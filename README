See Example folder for several fully commented examples.
